webpackJsonp([1],{IyqY:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("/5sW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App"},o,!1,function(t){s("gsu9")},null,null).exports,n=s("/ocq"),l=s("Xxa5"),i=s.n(l),d=s("exGp"),c=s.n(d),b=s("mtWM"),u=s.n(b),v={name:"Board",data:function(){return{boards:{board:null,oldBoard:null,net:null,len:5,walls:4}}},methods:{drawBoard:function(){var t=0,e=0,s=0,a=document.getElementsByClassName("grid"),o=document.getElementsByClassName("wall_v"),r=document.getElementsByClassName("wall_h"),n=[[1,0],[0,1],[-1,0],[0,-1]];for(t=0;t<this.boards.len;t++){for(e=0;e<this.boards.len;e++){var l=a[t*this.boards.len+e];if(l.setAttribute("pawn",t*this.boards.len+e),this.boards.board.pawn_self.position[0]===t&&this.boards.board.pawn_self.position[1]===e)l.setAttribute("exists","self");else if(this.boards.board.pawn_other_position[0]===t&&this.boards.board.pawn_other_position[1]===e)l.setAttribute("exists","other");else{var i=!1;if(!1===this.boards.board.over)for(var d=0;d<this.boards.board.takables.length;d++)for(var c=0;c<4;c++)if(this.boards.board.takables[d]===c){if(this.boards.board.pawn_self.position[0]+n[c][0]===t&&this.boards.board.pawn_self.position[1]+n[c][1]===e){l.setAttribute("exists","possible"),l.setAttribute("action",c),i=!0;break}}else if(this.boards.board.takables[d]===c+4&&this.boards.board.pawn_other_position[0]+n[c][0]===t&&this.boards.board.pawn_other_position[1]+n[c][1]===e){l.setAttribute("exists","possible"),l.setAttribute("action",c+4),i=!0;break}!1===i&&l.setAttribute("exists","")}if(e!==this.boards.len-1&&!1===this.boards.board.over){var b=o[t*(this.boards.len-1)+e];b.setAttribute("open_vertical",t*(this.boards.len-1)+e),b.setAttribute("open",this.boards.board.wall_vertical.open_vertical[t][e]),b.setAttribute("hover",8+t*(this.boards.len-1)+e),s=8+t*(this.boards.len-1)+e,t!==this.boards.len-1&&1===this.boards.board.wall_vertical.open_vertical[t][e]&&this.boards.board.takables.includes(s)&&b.setAttribute("action",s)}}if(t!==this.boards.len-1&&!1===this.boards.board.over)for(e=0;e<this.boards.len;e++){var u=r[t*this.boards.len+e];u.setAttribute("open_horizontal",t*this.boards.len+e),u.setAttribute("open",this.boards.board.wall_horizontal.open_horizontal[t][e]),u.setAttribute("hover",8+(this.boards.len-1)*this.boards.len+t*this.boards.len+e),s=8+(this.boards.len-1)*(this.boards.len-1)+t*(this.boards.len-1)+e,e!==this.boards.len-1&&1===this.boards.board.wall_horizontal.open_horizontal[t][e]&&this.boards.board.takables.includes(s)&&u.setAttribute("action",s)}}},getAPI:function(){var t=this;return c()(i.a.mark(function e(){var s,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.cleanSelected(),s="http://127.0.0.1:5000/api/action",t.$set(t.boards,"oldBoard",t.boards.board),null===t.boards.oldBoard&&t.$set(t.boards,"oldBoard",{network_first:t.boards.net}),t.boards.board=null,e.next=7,u.a.post(s,t.boards.oldBoard).then(function(e){t.$set(t.boards,"board",JSON.parse(e.data))}).catch(function(t){console.log(t)});case 7:return a=e.sent,t.$nextTick(function(){t.drawBoard()}),e.abrupt("return",a);case 10:case"end":return e.stop()}},e,t)}))()},getBoard:function(){this.getAPI()},firstSecond:function(t){!0===t?(this.$set(this.boards,"net",!0),this.getBoard()):(this.$set(this.boards,"net",!1),this.getBoard())},wallOver:function(t,e){var s=document.querySelector('div[hover="'+String(t)+'"]'),a=null;a=!0===e?document.querySelector('div[hover="'+String(t+this.boards.len-1)+'"]'):document.querySelector('div[hover="'+String(t+1)+'"]'),s.classList.add("wall-hover"),a.classList.add("wall-hover")},wallLeave:function(t,e){var s=document.querySelector('div[hover="'+String(t)+'"]'),a=null;a=!0===e?document.querySelector('div[hover="'+String(t+this.boards.len-1)+'"]'):document.querySelector('div[hover="'+String(t+1)+'"]'),s.classList.remove("wall-hover"),a.classList.remove("wall-hover")},cleanSelected:function(){var t=document.querySelector("div.pawn-selected");null!==t&&t.classList.remove("pawn-selected"),t=document.querySelectorAll("div.wall-selected");for(var e=0;e<t.length;e++)t[e].classList.remove("wall-selected")},pawnClick:function(t){var e=document.querySelector('div[pawn="'+String(t)+'"]');if(e.hasAttribute("action")){this.cleanSelected();var s=e.getAttribute("action");e.classList.add("pawn-selected"),this.$set(this.boards.board,"take_action",Number(s))}},wallClick:function(t,e){this.cleanSelected();var s=document.querySelector('div[action="'+String(t)+'"]'),a=s.getAttribute("hover"),o=document.querySelector('div[hover="'+String(Number(a)+1)+'"]');!0===e&&(o=document.querySelector('div[hover="'+String(Number(a)+this.boards.len-1)+'"]')),s.classList.add("wall-selected"),o.classList.add("wall-selected"),this.$set(this.boards.board,"take_action",Number(t))}},computed:{selectFirstSecond:function(){return null===this.boards.board&&null==this.boards.net},loading:function(){return null===this.boards.board},isWin:function(){return!0===this.boards.board.over&&1===this.boards.board.point},isLose:function(){return!0===this.boards.board.over&&0===this.boards.board.point},isOver:function(){return!0===this.boards.board.over},showSelfWalls:function(){return this.boards.board.walls_self},showOtherWalls:function(){return this.boards.board.walls_other},showState:function(){return this.boards.board}}},h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.selectFirstSecond?s("div",[s("div",[s("p",[t._v("Select You Are")]),t._v(" "),s("button",{staticClass:"firstsecond first",on:{click:function(e){return t.firstSecond(!1)}}},[t._v("First")]),t._v(" "),s("p",[t._v("or")]),t._v(" "),s("button",{staticClass:"firstsecond second",on:{click:function(e){return t.firstSecond(!0)}}},[t._v("Second")])])]):t.loading?s("div",[t._v("\n    loading....\n  ")]):s("div",[s("h1",[t._v(t._s(t.showSelfWalls)+", "+t._s(t.showOtherWalls))]),t._v(" "),s("p",[t._v(t._s(t.showState))]),t._v(" "),s("div",{attrs:{id:"draw-wrap"}},[s("div",{staticClass:"own-wrap own-wrap-self"},[s("p",{staticClass:"own-text"},[t._v("WALLS YOU HAVE")]),t._v(" "),s("div",{staticClass:"own_walls walls_self",attrs:{id:"walls_other"}},[t._l(t.boards.board.walls_self,function(t){return s("div",{key:t,staticClass:"own own_self"})}),t._v(" "),t._l(t.boards.walls-t.boards.board.walls_self,function(t){return s("div",{key:t,staticClass:"own own_self own_transepose"})})],2)]),t._v(" "),s("div",{attrs:{id:"draw"}},t._l(t.boards.len,function(e){return s("div",{key:e,staticClass:"row-wrap"},[s("div",{staticClass:"row row-top"},t._l(t.boards.len,function(a){return s("div",{key:a},[s("div",{staticClass:"grid",on:{click:function(s){t.pawnClick((e-1)*t.boards.len+(a-1))}}}),t._v(" "),e!=t.len&&a!=t.boards.len&&t.boards.board.takables.includes(8+(e-1)*(t.boards.len-1)+(a-1))?s("div",{staticClass:"wall wall_v",on:{mouseover:function(s){t.wallOver(8+(e-1)*(t.boards.len-1)+(a-1),!0)},mouseleave:function(s){t.wallLeave(8+(e-1)*(t.boards.len-1)+(a-1),!0)},click:function(s){t.wallClick(8+(e-1)*(t.boards.len-1)+(a-1),!0)}}}):e!=t.boards.len&&a!=t.boards.len?s("div",{staticClass:"wall wall_v"}):e==t.boards.len&&a!=t.boards.len?s("div",{staticClass:"wall wall_v"}):t._e()])}),0),t._v(" "),s("div",{staticClass:"row row-bottom"},t._l(t.boards.len,function(a){return s("div",{key:a},[e!=t.boards.len&&a!=t.boards.len&&t.boards.board.takables.includes(8+(t.boards.len-1)*(t.boards.len-1)+(e-1)*(t.boards.len-1)+(a-1))?s("div",{staticClass:"wall wall_h",on:{mouseover:function(s){t.wallOver(8+(t.boards.len-1)*t.boards.len+(e-1)*t.boards.len+(a-1),!1)},mouseleave:function(s){t.wallLeave(8+(t.boards.len-1)*t.boards.len+(e-1)*t.boards.len+(a-1),!1)},click:function(s){t.wallClick(8+Math.pow(t.boards.len-1,2)+(e-1)*(t.boards.len-1)+(a-1),!1)}}}):e!=t.boards.len&&a!=t.boards.len?s("div",{staticClass:"wall wall_h"}):e!=t.boards.len?s("div",{staticClass:"wall wall_h"}):t._e(),t._v(" "),e!=t.boards.len&&a!=t.boards.len?s("div",{staticClass:"blank",attrs:{open:"0"}}):t._e()])}),0)])}),0),t._v(" "),s("div",{staticClass:"own-wrap own-wrap-other"},[s("div",{staticClass:"own_walls walls_other",attrs:{id:"walls_self"}},[t._l(t.boards.walls-t.boards.board.walls_other,function(t){return s("div",{key:t,staticClass:"own own_other own_transepose"})}),t._v(" "),t._l(t.boards.board.walls_other,function(t){return s("div",{key:t,staticClass:"own own_other"})})],2),t._v(" "),s("p",{staticClass:"own-text"},[t._v("WALLS NETWORK HAS")])])]),t._v(" "),t.isWin?s("p",{staticClass:"result result-win"},[t._v("You Win.")]):t.isLose?s("p",{staticClass:"result result-lose"},[t._v("You Lose.")]):t._e(),t._v(" "),t.isOver?s("button",[s("a",{attrs:{href:"http://127.0.0.1:5000"}},[t._v("Rematch")])]):"take_action"in t.boards.board?s("button",{staticClass:"confirm",on:{click:function(e){return t.getBoard()}}},[t._v("Send Action")]):t._e()])])},staticRenderFns:[]};var w=s("VU/8")(v,h,!1,function(t){s("IyqY")},null,null).exports;a.a.use(n.a);var _=new n.a({mode:"history",routes:[{path:"/",name:"Match",component:w}]});a.a.config.productionTip=!1,a.a.config.devtools=!0,new a.a({el:"#app",router:_,render:function(t){return t(r)}})},gsu9:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6619978cecb4eb7c16d9.js.map